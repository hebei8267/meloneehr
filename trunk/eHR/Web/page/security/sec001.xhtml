<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:rich="http://richfaces.org/rich" 
	template="/page/core/template/one_page_template.xhtml">
	
	<ui:define name="pageNum">
		<ui:include src="/page/core/common/pageNum.xhtml">
			<ui:param name="pageNum" value="SECURITY 001"/>
		</ui:include>
	</ui:define>
	
	<ui:define name="body">
		<h:messages styleClass="message"/>
		
		<h:form id="loginForm">
			<rich:panel>
				<f:facet name="header">登录情报</f:facet>
				<p>
				输入用户名和密码登录系统
				</p>
				<table>
					<tr>
						<td>用户名</td>
						<td align="right">
							<h:inputText id="userId" value="#{Sec001_View.userId}" styleClass="inputText required max-length-20" />
						</td>
					</tr>
					<tr>
						<td>密 码</td>
						<td align="right">
							<h:inputSecret id="password" value="#{Sec001_View.password}" styleClass="inputText required max-length-20" />
						</td>
					</tr>
					<tr>
						<td colspan="2" align="right">
							<h:selectOneRadio id="loginFlag" value="#{Sec001_View.loginFlag}">
								<f:selectItem itemValue="true" itemLabel="登录系统"/>
								<f:selectItem itemValue="false" itemLabel="修改密码"/>
							</h:selectOneRadio>
						</td>
					</tr>
					<tr>
						<td colspan="2" align="right">
							<h:commandButton value="登 录" action="#{Sec001_View.login_Action}" styleClass="submitBtn"/>
							<input type="button" value="清 除" onclick="cleanFromItem()" class="cleanBtn"/>
						</td>
					</tr>
				</table>
			</rich:panel>
			<script type="text/javascript">
			var valid;
			Ext.onReady(function() {
	            valid = new Validation('loginForm', {
	                immediate: true
	            });
	            valid.validate();
            });
            
            function cleanFromItem(){
            	document.forms['loginForm'].elements['loginForm:userId'].value = "";
            	document.forms['loginForm'].elements['loginForm:password'].value = "";
            	
            	valid.validate();
	        }
			</script>
		</h:form>
	</ui:define>
</ui:composition>
